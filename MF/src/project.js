System.register([],(function(){"use strict";return{execute:function(){System.register("project:///assets/script/Cube.ts",["cc"],(function(e,t){var o,i,n,r,s,a,l,c,p,u,b,_;return e({_dec:void 0,_dec2:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_temp:void 0}),{setters:[function(e){o=e._decorator,i=e.Component,n=e.Material,r=e.ModelComponent,s=e.find}],execute:function(){cc._RF.push(window.module||{},"b66fa721SdM+pOj69I1QMe9","Cube"),b=o.ccclass,_=o.property,e("Cube",(a=b("Cube"),l=_({type:[n]}),a((p=function(e){function t(){var e,o;babelHelpers.classCallCheck(this,t);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return o=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(t)).call.apply(e,[this].concat(n))),babelHelpers.initializerDefineProperty(o,"material",u,babelHelpers.assertThisInitialized(o)),o}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"start",value:function(){}},{key:"init",value:function(e){for(var t=0;t<e.length;t++){s("NewQuad"+(t+1),this.node).getComponent(r).material=this.material[e[t]]}}}]),t}(i),u=babelHelpers.applyDecoratedDescriptor(p.prototype,"material",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=p))||c)),cc._RF.pop()}}})),System.register("project:///assets/script/MainUI.ts",["cc","./CubeParams.ts"],(function(e,t){var o,i,n,r,s,a,l,c,p,u,b,_,h,d,v,f,y;return e({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_dec5:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_descriptor4:void 0,_temp:void 0}),{setters:[function(e){o=e._decorator,i=e.Component,n=e.ButtonComponent},function(e){r=e.CubeParams}],execute:function(){cc._RF.push(window.module||{},"b60a8z69dtLwIb21DA7LoWO","MainUI"),f=o.ccclass,y=o.property,e("MainUI",(s=f("MainUI"),a=y({type:n}),l=y({type:n}),c=y({type:n}),p=y({type:n}),s((b=function(e){function t(){var e,o;babelHelpers.classCallCheck(this,t);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return o=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(t)).call.apply(e,[this].concat(n))),babelHelpers.initializerDefineProperty(o,"btn1",_,babelHelpers.assertThisInitialized(o)),babelHelpers.initializerDefineProperty(o,"btn2",h,babelHelpers.assertThisInitialized(o)),babelHelpers.initializerDefineProperty(o,"btn3",d,babelHelpers.assertThisInitialized(o)),babelHelpers.initializerDefineProperty(o,"btn4",v,babelHelpers.assertThisInitialized(o)),o}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"start",value:function(){this.initClickEvent()}},{key:"initClickEvent",value:function(){this.btn1.node.on("click",this.onBtn1Event,this),this.btn2.node.on("click",this.onBtn2Event,this),this.btn3.node.on("click",this.onBtn3Event,this),this.btn4.node.on("click",this.onBtn4Event,this)}},{key:"onBtn1Event",value:function(){console.log("MainUI onBtn1Event"),r.setCurrParams(1),r.moFang.node.emit("MoFangMainInit",!0,this)}},{key:"onBtn2Event",value:function(){console.log("MainUI onBtn2Event"),r.setCurrParams(2),r.moFang.node.emit("MoFangMainInit",!0,this)}},{key:"onBtn3Event",value:function(){console.log("MainUI onBtn3Event"),r.setCurrParams(3),r.moFang.node.emit("MoFangMainInit",!0,this)}},{key:"onBtn4Event",value:function(){console.log("MainUI onBtn4Event"),r.setCurrParams(0),r.moFang.node.emit("MoFangMainInit",!0,this)}},{key:"onDestroy",value:function(){this.btn1.node.off("click",this.onBtn1Event,this),this.btn2.node.off("click",this.onBtn2Event,this),this.btn3.node.off("click",this.onBtn3Event,this),this.btn4.node.off("click",this.onBtn4Event,this)}}]),t}(i),_=babelHelpers.applyDecoratedDescriptor(b.prototype,"btn1",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=babelHelpers.applyDecoratedDescriptor(b.prototype,"btn2",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=babelHelpers.applyDecoratedDescriptor(b.prototype,"btn3",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=babelHelpers.applyDecoratedDescriptor(b.prototype,"btn4",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=b))||u)),cc._RF.pop()}}})),System.register("project:///assets/script/CubeParams.ts",["cc"],(function(e,t){var o,i,n,r,s,a,l,c,p;return e({_dec:void 0,_class:void 0}),{setters:[function(e){o=e._decorator,i=e.v3}],execute:function(){cc._RF.push(window.module||{},"886e1QhaOtGOojT73+jkzhF","CubeParams"),s=o.ccclass,o.property,a=[{_pos:i(0,0,0),_color:[0],_rotation:i(0,0,0)},{_pos:i(0,0,1),_color:[1],_rotation:i(0,0,0)},{_pos:i(0,1,0),_color:[2],_rotation:i(-90,0,0)},{_pos:i(1,0,0),_color:[3],_rotation:i(0,90,0)},{_pos:i(-1,0,0),_color:[4],_rotation:i(0,-90,0)},{_pos:i(0,0,-1),_color:[5],_rotation:i(0,180,0)},{_pos:i(0,-1,0),_color:[6],_rotation:i(90,0,0)}],l=[{_pos:i(0,1,1),_color:[1,2],_rotation:i(0,0,0)},{_pos:i(1,1,0),_color:[3,2],_rotation:i(0,90,0)},{_pos:i(0,1,-1),_color:[5,2],_rotation:i(0,180,0)},{_pos:i(-1,1,0),_color:[4,2],_rotation:i(0,-90,0)},{_pos:i(1,0,1),_color:[1,3],_rotation:i(0,0,-90)},{_pos:i(1,0,-1),_color:[3,5],_rotation:i(0,90,-90)},{_pos:i(-1,0,-1),_color:[5,4],_rotation:i(0,180,-90)},{_pos:i(-1,0,1),_color:[4,1],_rotation:i(0,-90,-90)},{_pos:i(0,-1,1),_color:[1,6],_rotation:i(0,0,180)},{_pos:i(1,-1,0),_color:[3,6],_rotation:i(0,90,180)},{_pos:i(0,-1,-1),_color:[5,6],_rotation:i(0,180,180)},{_pos:i(-1,-1,0),_color:[4,6],_rotation:i(0,-90,180)}],c=[{_pos:i(1,1,1),_color:[1,2,3],_rotation:i(0,0,0)},{_pos:i(1,1,-1),_color:[3,2,5],_rotation:i(0,90,0)},{_pos:i(-1,1,-1),_color:[5,2,4],_rotation:i(0,180,0)},{_pos:i(-1,1,1),_color:[4,2,1],_rotation:i(0,-90,0)},{_pos:i(1,-1,1),_color:[1,3,6],_rotation:i(0,0,-90)},{_pos:i(1,-1,-1),_color:[3,5,6],_rotation:i(0,90,-90)},{_pos:i(-1,-1,-1),_color:[5,4,6],_rotation:i(0,180,-90)},{_pos:i(-1,-1,1),_color:[4,1,6],_rotation:i(0,-90,-90)}],p=[],e("CubeParams",(n=s("CubeParams"),n(r=function(){function e(){babelHelpers.classCallCheck(this,e)}return babelHelpers.createClass(e,null,[{key:"getParams",value:function(){return p}},{key:"setCurrParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(e){case 0:p=c.concat(a).concat(l);break;case 1:p=a;break;case 2:p=l;break;case 3:p=c}}}]),e}())||r)),cc._RF.pop()}}})),System.register("project:///assets/script/MoFangMain.ts",["cc","./CubeParams.ts"],(function(e,t){var o,i,n,r,s,a,l,c,p,u,b,_,h,d,v,f,y,m,M,g,H,C,E,P,D;return e({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_dec5:void 0,_dec6:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_descriptor4:void 0,_descriptor5:void 0,_temp:void 0}),{setters:[function(e){o=e._decorator,i=e.Component,n=e.systemEvent,r=e.SystemEvent,s=e.v2,a=e.v3,l=e.instantiate,c=e.Prefab,p=e.CCBoolean},function(e){u=e.CubeParams}],execute:function(){cc._RF.push(window.module||{},"97dfctE2M9Gy41r/VzoLXW6","MoFangMain"),P=o.ccclass,D=o.property,e("MoFangMain",(b=P("MoFangMain"),_=D({type:c}),h=D({type:p}),d=D({type:a}),v=D({type:a}),f=D({type:s}),b((m=function(e){function t(){var e,o;babelHelpers.classCallCheck(this,t);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return o=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(t)).call.apply(e,[this].concat(n))),babelHelpers.initializerDefineProperty(o,"cube",M,babelHelpers.assertThisInitialized(o)),babelHelpers.initializerDefineProperty(o,"isMouseUp",g,babelHelpers.assertThisInitialized(o)),babelHelpers.initializerDefineProperty(o,"moFangRota",H,babelHelpers.assertThisInitialized(o)),babelHelpers.initializerDefineProperty(o,"upPos",C,babelHelpers.assertThisInitialized(o)),babelHelpers.initializerDefineProperty(o,"startPos",E,babelHelpers.assertThisInitialized(o)),o}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"__preload",value:function(){u.moFang=this}},{key:"start",value:function(){u.setCurrParams(0),this.initListerEvent(),this.init(),this.node.on("MoFangMainInit",this.init,this)}},{key:"init",value:function(){console.log("MoFangMain init"),this.isMouseUp=!0,this.moFangRota=a(30,30,0),this.node.removeAllChildren(),this.node.setRotationFromEuler(0,0,0),this.initQuat(),this.node.setRotationFromEuler(this.moFangRota.x,this.moFangRota.y,this.moFangRota.z)}},{key:"initListerEvent",value:function(){n.on(r.EventType.MOUSE_DOWN,this.onMouseDown,this),n.on(r.EventType.MOUSE_MOVE,this.onMouseMove,this),n.on(r.EventType.MOUSE_UP,this.onMousUp,this),n.on(r.EventType.TOUCH_START,this.onMouseDown,this),n.on(r.EventType.TOUCH_MOVE,this.onMouseMove,this),n.on(r.EventType.TOUCH_END,this.onMousUp,this)}},{key:"initQuat",value:function(){for(var e=u.getParams(),t=0;t<e.length;t++){var o=l(this.cube),i=o.getComponent(o.name),n=e[t]._rotation;o.parent=this.node,o.position=e[t]._pos,i.init(e[t]._color),o.setRotationFromEuler(n.x,n.y,n.z)}}},{key:"onMouseDown",value:function(e){if(this.isMouseUp){this.isMouseUp=!1;var t=this.getTag(e);this.startPos=s(t.x,t.y)}}},{key:"onMouseMove",value:function(e){if(!this.isMouseUp){var t=this.getTag(e),o=t.x-this.startPos.x,i=t.y-this.startPos.y,n=this.moFangRota.x-.5*i,r=this.moFangRota.y+.5*o,s=this.moFangRota.z;this.upPos.x=n,this.upPos.y=r,this.upPos.z=s,this.node.setRotationFromEuler(n,r,s)}}},{key:"onMousUp",value:function(){this.isMouseUp=!0,this.moFangRota=a(this.upPos.x,this.upPos.y,this.upPos.z)}},{key:"getTag",value:function(e){var t={x:0,y:0};return e&&(t.x=e._point?e._point.x:e._x,t.y=e._point?e._point.y:e._y),t}},{key:"onDestroy",value:function(){n.off(r.EventType.MOUSE_DOWN,this.onMouseDown,this),n.off(r.EventType.MOUSE_MOVE,this.onMouseMove,this),n.off(r.EventType.MOUSE_UP,this.onMousUp,this),n.off(r.EventType.TOUCH_START,this.onMouseDown,this),n.off(r.EventType.TOUCH_MOVE,this.onMouseMove,this),n.off(r.EventType.TOUCH_END,this.onMousUp,this)}}]),t}(i),M=babelHelpers.applyDecoratedDescriptor(m.prototype,"cube",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=babelHelpers.applyDecoratedDescriptor(m.prototype,"isMouseUp",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),H=babelHelpers.applyDecoratedDescriptor(m.prototype,"moFangRota",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return a(0,0,0)}}),C=babelHelpers.applyDecoratedDescriptor(m.prototype,"upPos",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return a(0,0,0)}}),E=babelHelpers.applyDecoratedDescriptor(m.prototype,"startPos",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return s(0,0)}}),y=m))||y)),cc._RF.pop()}}}))}}}));
